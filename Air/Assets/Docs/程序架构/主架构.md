# 大致架构

- [ ] 主管理器: GameManager
    - [ ] 声音管理: SoundManager
        - [ ] 音乐/音效播放
        - [ ] 音量控制
        - [ ] 音效素材加载
    - [ ] 游戏场景管理: SceneManager
        - [ ] 游戏场景切换
        - [ ] 转场特效
        - [ ] 释放GC
    - [ ] 游戏关卡管理: StageManager
        - [ ] 游戏回合进程的迁移
            - [ ] 格子触发事件: EventHub
        - [ ] 关卡生成: StageBuilder
        - [ ] 摄像头跟随: CameraController
        - [ ] 全局光的旋转: LightController
        - [x] 骰子控制: DiceController
        - [ ] 角色控制: Player
            - [ ] 移动/朝向控制: MoveObject
            - [ ] 角色动画
            - [ ] 角色模型更新
    - [ ] 数据管理: DataManager
        - [ ] 玩家属性的更新
        - [ ] 游戏进程数据的更新
        - [ ] 存档
        - [ ] 读档
        - [ ] 事件控制
            - [ ] 事件列表的更新 
            - [ ] 事件触发概率的更新 
 
 
 - [ ] 元数据: Data
    - [ ] 游戏进程数据 :GameData
    - [ ] 角色属性 :PlayerData
    - [ ] 职业
    - [ ] 战斗技能 4格,格子不够学到新的就需要遗忘旧的
    - [ ] 非战斗技能 2格，从学到的技能中选取
    - [ ] 装备
    - [ ] 友人
        - 结交所需参数
        - 可触发事件
        - 非战斗增益
        - 战斗增益
    - [ ] 战斗格敌方角色
        - 基础hp攻防与抗性计算
        - 技能
        - 战败影响(扣除属性/提升某事件触发概率)
    - [ ] 最终boss(游戏终盘时限定回合击杀)
        - 基础hp攻防与抗性计算
        - 技能
 
 - [ ] 战斗系统
    - [ ] 战斗格: BattleScene: BattleManager
        - 仿宝可梦
    - [ ] 最终boss: : BatterManager
        - 至多可以同时三人在场,每次战斗5回合
        - 使用技能需要消耗行动点：行动点为每回合恢复 + 增益
        - 技能从人生经历中所有技能中进行选择(多周目继承)
        - 友人战死影响结局
        - 玩家战败游戏强制结局
 
  
 